@page "/admin"
@using Microsoft.AspNetCore.Authorization
@using MudBlazor
@attribute [Authorize(Roles = "Admin")]

<PageTitle>AI HelpDesk – Pannello Amministrazione</PageTitle>

<div class="aih-admin-root">
    <MudContainer MaxWidth="MaxWidth.Large" Class="aih-admin-main py-10">

        <!-- Hero section stile leggero -->
        <MudPaper Elevation="0" Class="p-8 text-center admin-hero-paper mb-6">
            <MudText Typo="Typo.h2" Class="mb-1 font-weight-bold">Pannello Amministrazione</MudText>
            <MudText Typo="Typo.body1" Class="mt-2 mud-text-secondary">
                Qui puoi configurare l'assistente AI interno, caricare documenti, monitorare lo storico delle richieste e gestire gli utenti.
            </MudText>
        </MudPaper>

        <!-- Feature cards senza bordi netti -->
        <MudGrid GutterSize="3" Class="mt-8">
            <MudItem xs="12" sm="6" md="3">
                <MudPaper Elevation="0" Class="feature-card p-6 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.UploadFile" Size="Size.Large" />
                    <MudText Typo="Typo.subtitle2" Class="mt-2 font-weight-medium">Upload Documenti</MudText>
                    <MudText Typo="Typo.body2" Class="mb-4">Carica file PDF, CSV o TXT per arricchire l'AI</MudText>
                    <MudButton Href="/admin/upload" Variant="Variant.Filled" Color="Color.Primary">
                        Vai all'upload
                    </MudButton>
                </MudPaper>
            </MudItem>

            <MudItem xs="12" sm="6" md="3">
                <MudPaper Elevation="0" Class="feature-card p-6 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.History" Size="Size.Large" />
                    <MudText Typo="Typo.subtitle2" Class="mt-2 font-weight-medium">Storico richieste</MudText>
                    <MudText Typo="Typo.body2" Class="mb-4">
                        Rivedi conversazioni precedenti degli agenti
                    </MudText>
                    <MudButton Href="/admin/chat/history" Variant="Variant.Filled" Color="Color.Primary">
                        Vai allo storico
                    </MudButton>
                </MudPaper>
            </MudItem>

            <MudItem xs="12" sm="6" md="3">
                <MudPaper Elevation="0" Class="feature-card p-6 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.People" Size="Size.Large" />
                    <MudText Typo="Typo.subtitle2" Class="mt-2 font-weight-medium">Utenti e Permessi</MudText>
                    <MudText Typo="Typo.body2" Class="mb-4">Gestisci agenti HelpDesk e ruoli assegnati</MudText>
                    <MudButton Disabled="true" Variant="Variant.Outlined">Coming soon</MudButton>
                </MudPaper>
            </MudItem>

            <MudItem xs="12" sm="6" md="3">
                <MudPaper Elevation="0" Class="feature-card p-6 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.Settings" Size="Size.Large" />
                    <MudText Typo="Typo.subtitle2" Class="mt-2 font-weight-medium">Impostazioni AI</MudText>
                    <MudText Typo="Typo.body2" Class="mb-4">Personalizza prompt e comportamento dell'AI</MudText>
                    <MudButton Href="/admin/prompt" Variant="Variant.Filled" Color="Color.Primary">
                        Vai alla configurazione
                    </MudButton>
                </MudPaper>
            </MudItem>
        </MudGrid>
    </MudContainer>
</div>

@code {
    // Parametri e logica aggiuntiva se necessaria
}
