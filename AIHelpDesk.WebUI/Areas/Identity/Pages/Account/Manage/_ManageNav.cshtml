@inject Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> HtmlHelper
@{
    // Percorso corrente (es. /Identity/Account/Manage/Email)
    var path = Context.Request.Path.Value?.ToLowerInvariant() ?? "";
    bool IsActive(string segment) => path.Contains($"/manage/{segment}".ToLowerInvariant());
    string A(string seg) => IsActive(seg) ? "active" : "";
}

<nav class="nav flex-column manage-nav">
    <a class="nav-link @A("index")" asp-page="./Index">Profilo</a>
    <a class="nav-link @A("email")" asp-page="./Email">Email</a>
    <a class="nav-link @A("changepassword")" asp-page="./ChangePassword">Password</a>
    <a class="nav-link @A("personaldata")" asp-page="./PersonalData">Dati personali</a>
</nav>
